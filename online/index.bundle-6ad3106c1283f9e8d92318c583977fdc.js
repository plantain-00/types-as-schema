webpackJsonp([0],{162:function(e,r,n){"use strict";n.d(r,"a",function(){return a});var t=n(40),i=n(27),a=(n.n(i),function(){function e(e){var r=this;this.sourceFile=e,this.models=[],i.forEachChild(e,function(e){if(e.kind===i.SyntaxKind.EnumDeclaration){var n=e,a=n.members;if(a.length>0){var o=a[0];if(o.initializer){var m={kind:"enum",name:n.name.text,type:o.initializer.kind===i.SyntaxKind.StringLiteral?i.ClassificationTypeNames.stringLiteral:"uint32",members:[]};try{for(var u=t.d(a),y=u.next();!y.done;y=u.next()){var l=y.value;if(l.initializer){var s=l.name;if(l.initializer.kind===i.SyntaxKind.StringLiteral){var f=l.initializer;m.members.push({name:s.text,value:f.text})}else if(l.initializer.kind===i.SyntaxKind.NumericLiteral){var f=l.initializer;m.members.push({name:s.text,value:+f.text})}}}}catch(e){x={error:e}}finally{try{y&&!y.done&&(b=u.return)&&b.call(u)}finally{if(x)throw x.error}}r.models.push(m)}else{var m={kind:"enum",name:n.name.text,type:"uint32",members:[]},p=0;try{for(var d=t.d(a),c=d.next();!c.done;c=d.next()){var l=c.value,v=l.name;if(l.initializer&&l.initializer.kind===i.SyntaxKind.NumericLiteral){var f=l.initializer,h=+f.text;m.members.push({name:v.text,value:h}),p=h+1}else m.members.push({name:v.text,value:p}),p++}}catch(e){g={error:e}}finally{try{c&&!c.done&&(k=d.return)&&k.call(d)}finally{if(g)throw g.error}}r.models.push(m)}}}var x,b,g,k}),i.forEachChild(e,function(e){r.handleSourceFile(e)})}return e.prototype.handleSourceFile=function(e){var r=this.getJsDocs(e),n=r.find(function(e){return"entry"===e.name});if(e.kind===i.SyntaxKind.TypeAliasDeclaration){var a=e;if(a.type.kind===i.SyntaxKind.ArrayType){var o=a.type,m=r.find(function(e){return"uniqueItems"===e.name}),u=r.find(function(e){return"minItems"===e.name}),y=r.find(function(e){return"itemType"===e.name}),l=r.find(function(e){return"itemMinimum"===e.name}),s=this.getType(o.elementType);this.overrideType(s,y),"number"===s.kind&&l&&l.comment&&(s.minimum=+l.comment),this.models.push({kind:"array",name:a.name.text,type:s,entry:n?n.comment:void 0,uniqueItems:!!m||void 0,minItems:u&&u.comment?+u.comment:void 0})}else{var f=this.getMembersInfo(a.type),p=f.members,d=f.minProperties,c=f.maxProperties;this.models.push({kind:"object",name:a.name.text,members:p,minProperties:d,maxProperties:c,entry:n?n.comment:void 0})}}else if(e.kind===i.SyntaxKind.InterfaceDeclaration){var v=e;if(this.models.some(function(e){return e.name===v.name.text}))return;var h=this.getObjectMembers(v.members),p=h.members,x=h.minProperties,b=h.maxProperties,d=x,c=b;if(v.heritageClauses)try{for(var g=t.d(v.heritageClauses),k=g.next();!k.done;k=g.next()){var P=k.value;if(P.kind===i.SyntaxKind.HeritageClause){var S=this;try{for(var T=t.d(P.types),w=T.next();!w.done;w=T.next()){var s=w.value;!function(e){if(e.kind===i.SyntaxKind.ExpressionWithTypeArguments){var r=e.expression.text;S.preHandleType(r);var n=S.models.find(function(e){return"object"===e.kind&&e.name===r});if(n&&"object"===n.kind){try{for(var a=t.d(n.members),o=a.next();!o.done;o=a.next()){var m=o.value;!function(e){p.every(function(r){return r.name!==e.name})&&(p.push(e),c++,e.optional||d++)}(m)}}catch(e){u={error:e}}finally{try{o&&!o.done&&(y=a.return)&&y.call(a)}finally{if(u)throw u.error}}}}var u,y}(s)}}catch(e){I={error:e}}finally{try{w&&!w.done&&(O=T.return)&&O.call(T)}finally{if(I)throw I.error}}}}}catch(e){j={error:e}}finally{try{k&&!k.done&&(K=g.return)&&K.call(g)}finally{if(j)throw j.error}}this.models.push({kind:"object",name:v.name.text,members:p,minProperties:d,maxProperties:c,entry:n?n.comment:void 0})}var j,K,I,O},e.prototype.preHandleType=function(e){var r=this;if(!this.models.some(function(r){return r.name===e})){var n=!1;i.forEachChild(this.sourceFile,function(t){if(!n)if(t.kind===i.SyntaxKind.InterfaceDeclaration){var a=t;a.name.text===e&&(n=!0,r.handleSourceFile(t))}else if(t.kind===i.SyntaxKind.TypeAliasDeclaration){var a=t;a.name.text===e&&(n=!0,r.handleSourceFile(t))}})}},e.prototype.overrideType=function(e,r){r&&r.comment&&("number"===e.kind?e.type=r.comment:"array"===e.kind&&"number"===e.type.kind&&(e.type={kind:e.type.kind,type:r.comment}))},e.prototype.getMembersInfo=function(e){var r=[],n=0,a=0;if(e.kind===i.SyntaxKind.TypeLiteral){var o=e;return this.getObjectMembers(o.members)}if(e.kind===i.SyntaxKind.UnionType){var m=e;n=1/0;try{for(var u=t.d(m.types),y=u.next();!y.done;y=u.next()){var l=y.value,s=this.getMembersInfo(l);n>s.minProperties&&(n=s.minProperties),a<s.maxProperties&&(a=s.maxProperties);var f=s.members;if(0===r.length)r.push.apply(r,t.c(f));else{try{for(var p=t.d(r),d=p.next();!d.done;d=p.next()){var c=d.value;!function(e){f.every(function(r){return r.name!==e.name})&&(e.optional=!0)}(c)}}catch(e){N={error:e}}finally{try{d&&!d.done&&(z=p.return)&&z.call(p)}finally{if(N)throw N.error}}try{for(var v=t.d(f),h=v.next();!h.done;h=v.next()){var c=h.value;!function(e){r.every(function(r){return r.name!==e.name})&&(e.optional=!0,r.push(e))}(c)}}catch(e){J={error:e}}finally{try{h&&!h.done&&(L=v.return)&&L.call(v)}finally{if(J)throw J.error}}}}}catch(e){D={error:e}}finally{try{y&&!y.done&&(M=u.return)&&M.call(u)}finally{if(D)throw D.error}}}else if(e.kind===i.SyntaxKind.IntersectionType){var x=e;try{for(var b=t.d(x.types),g=b.next();!g.done;g=b.next()){var l=g.value,s=this.getMembersInfo(l);n+=s.minProperties,a+=s.maxProperties;var f=s.members;try{for(var k=t.d(f),P=k.next();!P.done;P=k.next()){var c=P.value;!function(e){r.every(function(r){return r.name!==e.name})&&r.push(e)}(c)}}catch(e){q={error:e}}finally{try{P&&!P.done&&(C=k.return)&&C.call(k)}finally{if(q)throw q.error}}}}catch(e){R={error:e}}finally{try{g&&!g.done&&(_=b.return)&&_.call(b)}finally{if(R)throw R.error}}}else if(e.kind===i.SyntaxKind.ParenthesizedType){var S=e,s=this.getMembersInfo(S.type);n=s.minProperties,a=s.maxProperties;var f=s.members;try{for(var T=t.d(f),w=T.next();!w.done;w=T.next()){var c=w.value;r.push(c)}}catch(e){F={error:e}}finally{try{w&&!w.done&&(A=T.return)&&A.call(T)}finally{if(F)throw F.error}}}else if(e.kind===i.SyntaxKind.TypeReference){var j=e.typeName.text;this.preHandleType(j);var K=this.models.find(function(e){return"object"===e.kind&&e.name===j});if(K&&"object"===K.kind){try{for(var I=t.d(K.members),O=I.next();!O.done;O=I.next()){var c=O.value;!function(e){r.every(function(r){return r.name!==e.name})&&(r.push(e),a++,e.optional||n++)}(c)}}catch(e){E={error:e}}finally{try{O&&!O.done&&($=I.return)&&$.call(I)}finally{if(E)throw E.error}}}}return{members:r,minProperties:n,maxProperties:a};var D,M,N,z,J,L,R,_,q,C,F,A,E,$},e.prototype.getObjectMembers=function(e){var r=[],n=0,a=0;try{for(var o=t.d(e),m=o.next();!m.done;m=o.next()){var u=m.value;if(u.kind===i.SyntaxKind.PropertySignature){var y=u,l=y.name,s={name:l.text,type:{kind:"unknown"}};r.push(s),y.questionToken?s.optional=!0:n++,a++,y.type&&(s.type=this.getType(y.type));var f=this.getJsDocs(y);try{for(var p=t.d(f),d=p.next();!d.done;d=p.next()){var c=d.value;if("tag"===c.name)c.comment&&(s.tag=+c.comment);else if("mapValueType"===c.name)c.comment&&"map"===s.type.kind&&"number"===s.type.value.kind&&(s.type.value.type=c.comment);else if("type"===c.name)this.overrideType(s.type,c);else if("uniqueItems"===c.name){var v=s.type;v&&(v.uniqueItems=!0)}else if("minItems"===c.name){var v=s.type;v&&c.comment&&(v.minItems=+c.comment)}else"itemType"===c.name?c.comment&&"array"===s.type.kind&&this.overrideType(s.type,c):"itemMinimum"===c.name&&c.comment&&"array"===s.type.kind&&"number"===s.type.type.kind&&(s.type.type.minimum=+c.comment)}}catch(e){b={error:e}}finally{try{d&&!d.done&&(g=p.return)&&g.call(p)}finally{if(b)throw b.error}}}}}catch(e){h={error:e}}finally{try{m&&!m.done&&(x=o.return)&&x.call(o)}finally{if(h)throw h.error}}return{members:r,minProperties:n,maxProperties:a};var h,x,b,g},e.prototype.getType=function(e){if(e.kind===i.SyntaxKind.StringKeyword)return{kind:"string"};if(e.kind===i.SyntaxKind.NumberKeyword)return{kind:"number",type:"number"};if(e.kind===i.SyntaxKind.BooleanKeyword)return{kind:"boolean"};if(e.kind===i.SyntaxKind.TypeLiteral){var r=e;if(1!==r.members.length||r.members[0].kind!==i.SyntaxKind.IndexSignature){var n=this.getMembersInfo(r);return{kind:"object",members:n.members,minProperties:n.minProperties,maxProperties:n.maxProperties}}var t=r.members[0];if(1===t.parameters.length){var a=t.parameters[0].type;if(a&&t.type)return{kind:"map",key:this.getType(a),value:this.getType(t.type)}}}else{if(e.kind===i.SyntaxKind.ArrayType){var o=e;return{kind:"array",type:this.getType(o.elementType)}}if(e.kind===i.SyntaxKind.TypeReference){var m=e;if(m.typeName.kind===i.SyntaxKind.Identifier){return{kind:"reference",name:m.typeName.text}}if(m.typeName.kind===i.SyntaxKind.QualifiedName){var u=m.typeName,y=u.left.text,l=this.models.find(function(e){return"enum"===e.kind&&e.name===y});if(l)return{kind:"enum",type:l.type,enums:l.members.map(function(e){return e.value})}}}}return{kind:"unknown"}},e.prototype.getJsDocs=function(e){var r=e.jsDoc,n=[];if(r&&r.length>0)try{for(var i=t.d(r),a=i.next();!a.done;a=i.next()){var o=a.value;if(o.tags)try{for(var m=t.d(o.tags),u=m.next();!u.done;u=m.next()){var y=u.value;n.push({name:y.tagName.text,comment:y.comment})}}catch(e){f={error:e}}finally{try{u&&!u.done&&(p=m.return)&&p.call(m)}finally{if(f)throw f.error}}}}catch(e){l={error:e}}finally{try{a&&!a.done&&(s=i.return)&&s.call(i)}finally{if(l)throw l.error}}return n;var l,s,f,p},e.prototype.getProtobufProperty=function(e){var r="",n="";if("map"===e.kind){var t="number"===e.value.kind?"uint32":e.value;n="map<"+e.key.kind+", "+t+">"}else if("array"===e.kind){r="repeated ";var i=this.getProtobufProperty(e.type).propertyType;n=i}else if("enum"===e.kind)n=e.type;else if("reference"===e.kind){var a=this.models.find(function(r){return"enum"===r.kind&&r.name===e.name});n=a&&"enum"===a.kind&&"string"===a.type?"string":e.name}else"number"===e.kind?n="number"===e.type?"double":"integer"===e.type?"int32":e.type:"string"===e.kind?n=e.kind:"boolean"===e.kind&&(n="bool");return{modifier:r,propertyType:n}},e.prototype.generateProtobuf=function(){var e=[];try{for(var r=t.d(this.models),n=r.next();!n.done;n=r.next()){var i=n.value;if("object"===i.kind){var a=[],o=i.members.reduce(function(e,r){return r.tag?Math.max(e,r.tag):e},0);try{for(var m=t.d(i.members),u=m.next();!u.done;u=m.next()){var y=u.value;y.tag||o++;var l=this.getProtobufProperty(y.type),s=l.modifier,f=l.propertyType;a.push("    "+s+f+" "+y.name+" = "+(y.tag?y.tag:o)+";")}}catch(e){h={error:e}}finally{try{u&&!u.done&&(x=m.return)&&x.call(m)}finally{if(h)throw h.error}}e.push("message "+i.name+" {\n"+a.join("\n")+"\n}")}else if("enum"===i.kind){var a=[];try{for(var p=t.d(i.members),d=p.next();!d.done;d=p.next()){var y=d.value;"number"==typeof y.value&&a.push("    "+y.name+" = "+y.value+";")}}catch(e){b={error:e}}finally{try{d&&!d.done&&(g=p.return)&&g.call(p)}finally{if(b)throw b.error}}a.length>0&&e.push("enum "+i.name+" {\n"+a.join("\n")+"\n}")}}}catch(e){c={error:e}}finally{try{n&&!n.done&&(v=r.return)&&v.call(r)}finally{if(c)throw c.error}}return'syntax = "proto3";\n\n'+e.join("\n\n")+"\n";var c,v,h,x,b,g},e.prototype.getReferencedDefinitions=function(e,r){var n={},t=r[e];if(void 0===t)return n;if(n[e]=t,"array"===t.type){if(void 0===t.items.type){var i=t.items.$ref.substring("#/definitions/".length);Object.assign(n,this.getReferencedDefinitions(i,r))}}else if("object"===t.type&&t.properties)for(var a in t.properties){var o=t.properties[a];if(void 0===o.type){var i=o.$ref.substring("#/definitions/".length);Object.assign(n,this.getReferencedDefinitions(i,r))}else if("array"===o.type&&void 0===o.items.type){var i=o.items.$ref.substring("#/definitions/".length);Object.assign(n,this.getReferencedDefinitions(i,r))}}return n},e.prototype.getNumberType=function(e){return"double"===e.type||"float"===e.type?{type:"number",minimum:e.minimum}:"uint32"===e.type||"fixed32"===e.type?{type:"integer",minimum:void 0!==e.minimum?e.minimum:0,maximum:4294967295}:"int32"===e.type||"sint32"===e.type||"sfixed32"===e.type?{type:"integer",minimum:void 0!==e.minimum?e.minimum:-2147483648,maximum:2147483647}:"uint64"===e.type||"fixed64"===e.type?{type:"integer",minimum:void 0!==e.minimum?e.minimum:0,maximum:0x10000000000000000}:"int64"===e.type||"sint64"===e.type||"sfixed64"===e.type?{type:"integer",minimum:void 0!==e.minimum?e.minimum:-0x8000000000000000,maximum:0x8000000000000000}:"number"===e.type||"integer"===e.type?{type:e.type,minimum:e.minimum}:{type:e.kind,minimum:e.minimum}},e.prototype.getJsonSchemaProperty=function(e){if("number"===e.kind)return this.getNumberType(e);if("boolean"===e.kind)return{type:"boolean"};if("map"===e.kind)return{type:"object",additionalProperties:this.getJsonSchemaProperty(e.value)};if("array"===e.kind)return{type:"array",items:this.getJsonSchemaProperty(e.type),uniqueItems:e.uniqueItems,minItems:e.minItems};if("enum"===e.kind){if("string"===e.type)return{type:"string",enum:e.enums};var r=this.getNumberType({kind:"number",type:e.type});return Object.assign(r,{enum:e.enums,minimum:void 0,maximum:void 0}),r}if("reference"===e.kind)return{type:void 0,$ref:"#/definitions/"+e.name};if("object"===e.kind){var n={},i=[];try{for(var a=t.d(e.members),o=a.next();!o.done;o=a.next()){var m=o.value;m.optional||i.push(m.name),n[m.name]=this.getJsonSchemaProperty(m.type)}}catch(e){u={error:e}}finally{try{o&&!o.done&&(y=a.return)&&y.call(a)}finally{if(u)throw u.error}}return{type:"object",properties:n,required:i,additionalProperties:!1,minProperties:e.minProperties>e.members.filter(function(e){return!e.optional}).length?e.minProperties:void 0,maxProperties:e.maxProperties<e.members.length?e.maxProperties:void 0}}return e.kind,{type:e.kind};var u,y},e.prototype.generateJsonSchemas=function(){var e=this,r={},n=[];try{for(var i=t.d(this.models),a=i.next();!a.done;a=i.next()){var o=a.value;"object"!==o.kind&&"array"!==o.kind||(r[o.name]=this.getJsonSchemaProperty(o),o.entry&&n.push(o))}}catch(e){m={error:e}}finally{try{a&&!a.done&&(u=i.return)&&u.call(i)}finally{if(m)throw m.error}}return n.map(function(n){return{entry:n.entry,schema:{$ref:"#/definitions/"+n.name,definitions:e.getReferencedDefinitions(n.name,r)}}});var m,u},e}())},163:function(e,r,n){"use strict";n.d(r,"a",function(){return t});var t='<div><button @click="generate()">abc</button></div>'},40:function(e,r,n){"use strict";function t(e,r){function n(){this.constructor=e}u(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}function i(e,r,n,t){var i,a=arguments.length,o=a<3?r:null===t?t=Object.getOwnPropertyDescriptor(r,n):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,r,n,t);else for(var m=e.length-1;m>=0;m--)(i=e[m])&&(o=(a<3?i(o):a>3?i(r,n,o):i(r,n))||o);return a>3&&o&&Object.defineProperty(r,n,o),o}function a(e){var r="function"==typeof Symbol&&e[Symbol.iterator],n=0;return r?r.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function o(e,r){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var t,i,a=n.call(e),o=[];try{for(;(void 0===r||r-- >0)&&!(t=a.next()).done;)o.push(t.value)}catch(e){i={error:e}}finally{try{t&&!t.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o}function m(){for(var e=[],r=0;r<arguments.length;r++)e=e.concat(o(arguments[r]));return e}r.b=t,r.a=i,r.d=a,r.c=m;var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n])};Object.assign},78:function(e,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var t=n(40),i=n(27),a=(n.n(i),n(39)),o=n.n(a),m=n(77),u=n.n(m),y=n(162),l=n(163);new(function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return t.b(r,e),r.prototype.generate=function(){var e=i.createSourceFile("","type TypeLiteral = {\n    typeLiteralMember1: number;\n    typeLiteralMember2: string;\n};",i.ScriptTarget.ESNext,!1,i.ScriptKind.TS),r=new y.a(e);console.log(r.models)},r=t.a([u()({template:l.a})],r)}(o.a))({el:"#container"})}},[78]);